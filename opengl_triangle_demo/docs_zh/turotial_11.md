# OpenGL ä¸‰è§’å½¢ Demo å®è·µæ•™ç¨‹ï¼šæ„å»ºä¸€ä¸ªä¼šå‘¼å¸çš„æ¸å˜ä¸‰è§’å½¢

# ğŸš€ æ„å»ºä¸‰è§’å½¢ Demo çš„å·¥ç¨‹ & è·¨å¹³å°éƒ¨ç½²

---

## 11-1 ğŸ¯ æ•™ç¨‹ç›®æ ‡

ä½ å·²ç»å®Œæˆäº†æ‰€æœ‰å†…å®¹ï¼ŒåŒ…æ‹¬ï¼š

* `main.cpp`ï¼ˆä¸»å‡½æ•°ï¼‰
* `gl.c`ï¼ˆglad å…¥å£ï¼‰
* `triangle.vert` / `triangle.frag`ï¼ˆShader æ–‡ä»¶ï¼‰
* `CMakeLists.txt`ï¼ˆæ„å»ºé…ç½®ï¼‰

æ¥ä¸‹æ¥è¦åšçš„äº‹æƒ…æ˜¯ï¼š

1. ç¡®è®¤å·¥ç¨‹ç›®å½•ç»“æ„æ˜¯å¦æ­£ç¡®
2. åˆ†å¹³å°éƒ¨ç½²å·¥ç¨‹ï¼Œ**æ„å»º + ç¼–è¯‘ + è¿è¡Œ**

---

## 11-2 âœ… æ£€æŸ¥æ–‡ä»¶ç›®å½•ç»“æ„ï¼ˆå››ä¸ªæ ¸å¿ƒæ–‡ä»¶å¤¹ï¼‰

ç¡®ä¿ä½ çš„å·¥ç¨‹ç›®å½•é•¿è¿™æ ·ï¼ˆè·¯å¾„ã€å¤§å°å†™éƒ½è¦å°å¿ƒï¼‰ï¼š

```
opengl_triangle_demo/
â”œâ”€â”€ CMakeLists.txt
â”œâ”€â”€ include/
â”‚   â”œâ”€â”€ glad/ gl.h
â”‚   â””â”€â”€ KHR/ khrplatform.h
â”œâ”€â”€ shaders/
â”‚   â”œâ”€â”€ triangle.vert
â”‚   â””â”€â”€ triangle.frag
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ main.cpp
â”‚   â””â”€â”€ gl.c
```

> æ³¨æ„ï¼šglad æ˜¯ä½ ä»å®˜ç½‘ç”Ÿæˆçš„ä»£ç ï¼Œåˆ«ç›´æ¥ç”¨ç³»ç»Ÿçš„ GLEWã€‚

---

## 11-3 ğŸªŸ Windows - Visual Studio éƒ¨ç½²æ–¹å¼ï¼ˆæ¨è IDE ç”¨æˆ·ï¼‰

#### âœ… 1. ä¸‹è½½å¹¶å®‰è£…ä»¥ä¸‹å·¥å…·ï¼š

* Visual Studioï¼ˆ2022 æˆ–ä»¥ä¸Šï¼‰
* å®‰è£…æ—¶å‹¾é€‰ â€œDesktop development with C++â€
* CMakeï¼ˆå¯é€‰ï¼ŒVS å†…ç½®ä¹Ÿæ”¯æŒï¼‰

#### âœ… 2. æ‰“å¼€å‘½ä»¤è¡Œï¼Œæ„å»ºå·¥ç¨‹ï¼š

```bash
mkdir build && cd build
cmake .. -G "Visual Studio 17 2022"
```

ä¼šç”Ÿæˆä¸€ä¸ª `.sln` å·¥ç¨‹æ–‡ä»¶ï¼ŒåŒå‡»å®ƒï¼Œåœ¨ Visual Studio é‡Œæ‰“å¼€ã€‚

#### âœ… 3. è®¾ç½®è¿è¡Œç›®å½•ï¼ˆè¿è¡Œæ—¶æ‰¾ä¸åˆ° shader ä¼šå´©ï¼‰

* ç‚¹ä¸­ `demo` é¡¹ç›® â†’ å±æ€§ï¼ˆPropertiesï¼‰
* ä¿®æ”¹å·¥ä½œç›®å½•ï¼š`$(ProjectDir)/../`ï¼ˆç¡®ä¿èƒ½è¯»åˆ° `shaders/`ï¼‰

#### âœ… 4. ç¼–è¯‘ & è¿è¡Œ

ç›´æ¥æŒ‰ä¸‹ F5ï¼ŒVisual Studio ä¼šæ„å»ºå¹¶è¿è¡Œé¡¹ç›®ã€‚

---

## 11-4 ğŸªŸ Windows - MinGW æ„å»ºæ–¹å¼ï¼ˆå‘½ä»¤è¡Œç©å®¶ï¼‰

#### âœ… 1. å®‰è£…ä¾èµ–å·¥å…·

* å®‰è£… MinGW-w64ï¼ˆ64ä½ï¼‰
* å®‰è£… CMake
* ä¸‹è½½ GLFW é¢„ç¼–è¯‘åŒ…ï¼ˆglfw-3.3.8.bin.WIN64.zipï¼‰

#### âœ… 2. é¡¹ç›®ç›®å½•ç»“æ„éœ€é¢å¤–åŒ…å«ï¼š

```
libs/
â”œâ”€â”€ glfw3.dll
â”œâ”€â”€ glfw3dll.lib
```

> `glfw3.dll` éœ€è¦å¤åˆ¶åˆ°æœ€ç»ˆç”Ÿæˆçš„ `.exe` æ‰€åœ¨ç›®å½•ï¼

#### âœ… 3. æ„å»ºæ­¥éª¤

```bash
mkdir build && cd build
cmake -G "MinGW Makefiles" .. 
mingw32-make
```

ç”Ÿæˆ `demo.exe`ï¼Œåˆ«å¿˜äº†æŠŠ `glfw3.dll` æ”¾åˆ°å®ƒæ—è¾¹ï¼Œç„¶åè¿è¡Œã€‚

---

## 11-5 ğŸ macOS æ„å»ºæ–¹å¼ï¼ˆMç³»åˆ—èŠ¯ç‰‡ / Intel é€šåƒï¼‰

#### âœ… 1. å®‰è£…ä¾èµ–å·¥å…·ï¼ˆç”¨ Homebrewï¼‰

```bash
brew install glfw cmake
```

#### âœ… 2. æ„å»ºæ­¥éª¤

```bash
mkdir build && cd build
cmake ..
make -j8
./bin/demo
```

macOS è‡ªå¸¦ OpenGL.frameworkï¼ŒShader éœ€ä½¿ç”¨ `#version 150 core`ï¼Œä¸èƒ½ç”¨è€è¯­æ³•ã€‚

#### âœ… 3. macOS ç‰¹åˆ«æ³¨æ„ï¼š

* Shader ä½¿ç”¨ Core Profile
* `CMakeLists.txt` ä¸­éœ€è¦åŠ ä¸Šï¼š

```cmake
if(APPLE)
  target_link_libraries(demo
    "-framework Cocoa"
    "-framework IOKit"
    "-framework CoreVideo"
  )
endif()
```

---

## 11-6 ğŸ§ Linuxï¼ˆUbuntu / Arch / WSL éƒ½é€šåƒï¼‰

#### âœ… 1. å®‰è£…ä¾èµ–

```bash
sudo apt update
sudo apt install cmake g++ libglfw3-dev libgl1-mesa-dev
```

#### âœ… 2. æ„å»ºæ­¥éª¤

```bash
mkdir build && cd build
cmake ..
make -j8
./bin/demo
```

#### âœ… WSLï¼ˆWindows Subsystem for Linuxï¼‰

ä½ å¯ä»¥ç¼–è¯‘ï¼Œä½†é»˜è®¤æ²¡æœ‰ GUIã€‚è¦æ˜¾ç¤ºå›¾å½¢ç•Œé¢ï¼Œè¯·å…ˆè£…ä¸€ä¸ª WSL GUI æ¡¥æ¥å™¨ï¼ˆå¦‚ X410ï¼‰ã€‚

---

## 11-7 ğŸ§± å¸¸è§é—®é¢˜æ’æŸ¥ï¼ˆè·¨å¹³å°å…±é€šï¼‰

| é—®é¢˜                                  | å¯èƒ½åŸå›          | è§£å†³æ–¹å¼                                  |
| ----------------------------------- | ------------ | ------------------------------------- |
| `glad.h: No such file or directory` | include è·¯å¾„ä¸å¯¹ | æ”¾è¿› `include/glad/` ç›®å½•                 |
| é»‘å±ä½†çª—å£èƒ½æ‰“å¼€                            | Shader åŠ è½½å¤±è´¥  | æ£€æŸ¥ `shaderPath` æ˜¯å¦æ­£ç¡®                  |
| æŠ¥æ‰¾ä¸åˆ° glfw3.dll                      | æ²¡æ”¾åˆ°å¯æ‰§è¡Œæ–‡ä»¶ç›®å½•   | å¤åˆ¶åˆ° `.exe` æ‰€åœ¨æ–‡ä»¶å¤¹                      |
| `GL version not supported`          | Shader å†™æ³•ä¸å…¼å®¹ | macOS ç”¨ `#version 150 core`ï¼Œä¸è¦ç”¨ `120` |

---

## 11-8 âœ… è·¨å¹³å°æ„å»ºå‘½ä»¤é€ŸæŸ¥è¡¨

| å¹³å°            | æ„å»ºå‘½ä»¤                                            |
| ------------- | ----------------------------------------------- |
| macOS         | `cmake .. && make -j8`                          |
| Linux         | `cmake .. && make -j8`                          |
| Windows-MinGW | `cmake -G "MinGW Makefiles" .. && mingw32-make` |
| Windows-VS    | `cmake .. -G "Visual Studio 17 2022"` â†’ F5      |

---

ä¸‹ä¸€èŠ‚ï¼Œèƒ–çˆ·å¯ä»¥ç»™ä½ å†™ä¸€ä»½è·¨å¹³å° `README.md` æˆ–è€…æ•™ä½ æ€ä¹ˆæ‰“åŒ… zip / ç‰ˆæœ¬ç®¡ç†ï¼Œ
ä¹Ÿå¯ä»¥è¿›å…¥ Week2 æ­£é¢˜ï¼š**UI drawcall ä¼˜åŒ–ã€èƒŒåŒ…/æ’è¡Œæ¦œ Demo æ¶æ„**ã€‚

é€‰å§ï¼Œå¤©çœŸï¼Œè¿™èŠ‚æ˜¯é“ºåœ°æ¿ï¼Œä¸‹ä¸€èŠ‚å¼€å§‹é€ å®¶å…·äº†ã€‚å¾€å“ªèµ°ï¼Ÿ
